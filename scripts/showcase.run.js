webpackJsonp([1],{139:function(module,exports,__webpack_require__){__webpack_require__(0),module.exports=__webpack_require__(66)},66:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _jquery=__webpack_require__(1),_jquery2=_interopRequireDefault(_jquery),_showcase=__webpack_require__(81),_showcase2=_interopRequireDefault(_showcase),_terminal=__webpack_require__(80),_terminal2=_interopRequireDefault(_terminal);_jquery2.default.then(function($){var termSwitch=function($c,i){i?($(".pantheon",$c).hide(),$(".pantheon--fallback",$c).show()):($(".pantheon--fallback",$c).hide(),$(".pantheon",$c).show())},termLock=function(t){var $c=t.$w.parents(".app-display__image"),w=$(window).innerWidth()<=1e3;return termSwitch($c,w),t.onHold=w,w};$(document).ready(function(){var showcase=new _showcase2.default({container:"#showcase",index:"#showcase-index",slides:["showcase-music","showcase-epiphany","showcase-mail","showcase-photos","showcase-videos","showcase-calendar","showcase-files","showcase-terminal","showcase-code","showcase-camera"],fixed:!1});showcase.start(),$("#showcase .showcase-tab .showcase-back").on("click",function(e){e.preventDefault(),showcase.slideTo("index")});var terminal=new _terminal2.default;terminal.start(),termLock(terminal),$("#showcase").on("change",function(e,d){null!=d&&"showcase-terminal"===d.active?termLock(terminal):terminal.onHold=!0}),$(window).on("resize",function(){return termLock(terminal)}),console.log("Loaded showcase.run.js")})})},80:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),commands={};commands[/^clear/]=function(cmd,term){return new Promise(function(resolve,reject){return term.history=[],term.$i.text(""),resolve(0)})},commands[/^mkdir .\/website$/]=function(cmd,term){return 0},commands[/^rm -rf .\/website$/]=function(cmd,term){return 0},commands[/^git clone https:\/\/github.com\/elementary\/website.git$/]=function(cmd,term){return term.append("Cloning into '/home/"+term.user+"/website'...",300).then(function(){return term.append("remote: Counting objects: 20257, done.",100)}).then(function(){return term.append("remote: Compressing objects: 0% (0/29)").then(function($l){return new Promise(function(resolve,reject){for(var t=0,i=0;i<=29;i++)!function(i){setTimeout(function(){$l.text("remote: Compressing objects: "+Math.floor(i/29*100)+"% ("+i+"/29)"+(29===i?", done.":""))},t),t+=Math.floor(75*Math.random())}(i);setTimeout(function(){return resolve()},t)})})}).then(function(){return term.append("Receiving objects: 0% (0/20257), 0MiB | 0 MiB/s").then(function($l){return new Promise(function(resolve,reject){for(var t=0,i=0;i<=20257;i++)!function(_i){setTimeout(function(){$l.text("Receiving objects: "+Math.floor(_i/20257*100)+"% ("+_i+"/20257), "+Math.floor(_i/t*4)+"MiB | 1.21 GW/s"+(20257===_i?", done.":""))},t),_i+=Math.floor(50*Math.random()),t+=10*Math.random(),i=_i}(i);setTimeout(function(){return $l.text("Receiving objects: 100% (20257/20257), 21MiB | 1.21 GW/s, done."),resolve()},t)})})}).then(function(){return term.append("Receiving deltas: 100% (13052/13052), done.",800*Math.random())}).then(function(){return term.append("Checking connectivity... done",600*Math.random())}).then(function(){return 0})},commands[/^\.\/demo$/]=function(cmd,term){return term.prompt(),term.type("rm -rf ./website").then(function(){return term.type("git clone https://github.com/elementary/website.git")}).then(function(){return term.type("./demo")})};var Terminal=function(){function Terminal(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'.window[type="terminal"]';_classCallCheck(this,Terminal),this.w=w,this.title="Home",this.user="ellie",this.host="elementary",this.folder="/home/"+this.user,this.history=[],this.colors=["#073642","#dc322f","#859900","#b58900","#268bd2","#ec0048","#2aa198","#94a3a5"],this.commands=commands,this.$w=$(w),this.$i=$(".input",this.$w)}return _createClass(Terminal,[{key:"start",value:function(){this.handle(),this.prompt(),this.type("./demo")}},{key:"handle",value:function(){var _this=this;$(window).on("scroll",function(){_this.activeCheck()}),$(window).on("resize",function(e){_this.activeCheck(),_this.$i.trigger("move")}),this.$i.on("move",function(){_this.$i.scrollTop(_this.$i[0].scrollHeight)})}},{key:"activeCheck",value:function(){var _this2=this,debounce=function(){var pT=_this2.$w.offset().top,pL=_this2.$w.offset().left,scroll=$(window).scrollTop(),wH=$(window).height(),wW=$(window).width();scroll+wH>pT&&scroll<pT+wH&&pL<wW?_this2.$w.addClass("active"):_this2.$w.removeClass("active")},diff=(new Date).getTime()-this.activeChecked;null==this.activeChecked||diff>=500?(this.activeChecked=(new Date).getTime(),debounce()):(clearTimeout(this.activeTimer),this.activeTimer=setTimeout(debounce,500))}},{key:"keyper",value:function(key){var letter=String.fromCharCode(key),$line=$("> span:last-child",this.$i),$sec=$("> span:last-child",$line);$sec.hasClass("input")||($line.append('<span class="input"></span>'),$sec=$("> span:last-child",$line)),8===key?$sec.text($sec.text().slice(0,-1)):$sec.text($sec.text()+letter),this.$i.trigger("move")}},{key:"append",value:function(str){var _this3=this,time=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"<span"!==str.substr(0,4)&&(str="<span>"+str+"</span>");var data=$(str);return new Promise(function(resolve,reject){setTimeout(function(){return _this3.$i.append(data),_this3.$i.trigger("move"),resolve($("> span:last-child",_this3.$i))},time)})}},{key:"format",value:function(str,c,s,i){null!=this.colors[c]&&(c=this.colors[c]);var out="<span",styles=[];return null!=c&&styles.push(["color",c]),null!=s&&"i"===s&&styles.push(["font-style","italic"]),null!=s&&"b"===s&&styles.push(["font-weight","bold"]),null!=s&&"u"===s&&styles.push(["text-decoration","underline"]),styles.length>0&&(out+=' style="',styles.forEach(function(o){out+=o[0]+": "+o[1]+";"}),out+='"'),null!=i&&(out+=' class="'+i+'"'),out+=">"+str+"</span>"}},{key:"prompt",value:function(){var folder=this.folder.replace("/home/"+this.user,"~"),prompt=this.format(this.user+"@"+this.host,2,"b")+this.format(":")+this.format(folder,4,"b")+this.format("$"),title=this.folder;if(this.folder==="/home/"+this.user&&(title="Home"),this.history.length>0){var last=this.history[this.history.length-1];last.length>30?title+=": "+last.split(" ")[0]:title+=": "+last}$(".titlebar .title",this.$w).text(title),$(".tabbar .tab.active .title",this.$w).text(title),this.append('<span class="prompt">'+prompt+' </span><span class="input"></span>'),this.$i.trigger("move")}},{key:"process",value:function(){var _this4=this,cmd=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$("> span:last-child > span.input:last-of-type",this.$i).text();if(cmd=cmd.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"|'/g,"&quot;"),!this.$w.hasClass("active")||this.onHold)return new Promise(function(resolve,reject){setTimeout(function(){_this4.process(cmd)},50)});var time=new Date;return new Promise(function(resolve,reject){if(null==cmd||""===cmd)return resolve(0);var cmds=Object.keys(_this4.commands).filter(function(reg){return new RegExp(reg.substr(1,reg.lastIndexOf("/")-1),reg.substr(reg.lastIndexOf("/")+1)).test(cmd)});return cmds.length<1?reject(-1):(_this4.history.push(cmd),$(".titlebar .title",_this4.$w).text(cmd),$(".tabbar .tab.active .title",_this4.$w).text(cmd),resolve(_this4.commands[cmds[0]](cmd,_this4)))}).catch(function(code){if(-1===code)return _this4.append(cmd.split(" ")[0]+": command not found",30*Math.random()).then(function(){return 1})}).then(function(code){return new Date-time>300&&_this4.notify(_this4.history[_this4.history.length-1]),_this4.prompt(),code})}},{key:"notify",value:function(cmd){if(this.$w.hasClass("active")){var $c=$("#notification-container"),$p=$c.parent(".pantheon"),$n=$('[type="notification"]',$c);$("p",$n).text(cmd),$n.addClass("active"),$p.show(),$c.append($n),$n.one("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(e){$p.hide()})}}},{key:"type",value:function(cmd){var _this5=this;return new Promise(function(resolve,reject){for(var time=0,_i2=0;_i2<cmd.length;_i2++)!function(_i2){setTimeout(function(){_this5.keyper(cmd.charCodeAt(_i2))},time),time+=50}(_i2);setTimeout(function(){_this5.process().then(function(c){return resolve(c)}).catch(function(e){return reject(e)})},time+200)})}}]),Terminal}();exports.default=Terminal},81:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Showcase=function(){function Showcase(options){_classCallCheck(this,Showcase),this.container=options.container||"#showcase",this.index=options.index||"#showcase-index",this.slides=options.slides||[],this.fixed=options.fixed||!1,this.current=null}return _createClass(Showcase,[{key:"start",value:function(){for(var _this=this,i=0;i<this.slides.length;i++){var n,$iChoice,$iContainer;!function(){n=_this.slides[i],$iChoice=$("[href$='"+n+"']",_this.container),$iContainer=$("#"+n,_this.container),$iContainer.prepend('<div class="showcase-back"></div>');var that=_this;$iChoice.on("click",function(e){e.preventDefault(),that.slideTo($(this).attr("href").split("#").pop())})}()}$(window).resize(function(){return _this.resize()}),this.slideTo("index"),$(this.container).addClass("initialized"),$(this.container).scrollLeft(0);var touchStartX=null,touchStartY=null;$(document).on("touchstart",this.container,function(e){touchStartX=e.touches[0].pageX,touchStartY=e.touches[0].pageY}),$(document).on("touchend",function(e){var touchEndX=e.changedTouches[e.changedTouches.length-1].pageX,touchEndY=e.changedTouches[e.changedTouches.length-1].pageY,movementX=touchEndX-touchStartX,movementY=touchEndY-touchStartY;Math.abs(movementY)<movementX/3&&movementX>100&&_this.slideTo("index"),touchStartX=null,touchStartY=null})}},{key:"slideTo",value:function(rSlide){if("index"!==rSlide&&-1===this.slides.indexOf(rSlide))return console.error("could not find requested slide '"+rSlide+"'");"index"===rSlide?$(this.index,this.container).addClass("active"):$(this.index,this.container).removeClass("active");for(var i=0;i<this.slides.length;i++){var n=this.slides[i],$n=$("#"+n,this.container);n===rSlide?$n.addClass("active"):$n.removeClass("active")}this.current=rSlide,$(this.container).trigger("change",{active:rSlide}),"index"!==this.current&&$("body").animate({scrollTop:$(this.container).offset().top},100),this.resize()}},{key:"resize",value:function(){var height=0;this.fixed?(height=$(this.index,this.container).outerHeight(!0),$.each(this.slides,function(i,n){var $iSlide=$("#"+n,this.container);$iSlide.outerHeight(!0)>height&&(height=$iSlide.outerHeight(!0))}),$(this.container).height(height)):(height="index"===this.current?$(this.index,this.container).outerHeight(!0):$("#"+this.current,this.container).outerHeight(!0),$(this.container).height(height))}}]),Showcase}();exports.default=Showcase}},[139]);
//# sourceMappingURL=showcase.run.map.js